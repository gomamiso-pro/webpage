<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>簡易Web設計・見積支援ツール</title>
  <style>
    body {
      font-family: "Segoe UI", sans-serif;
      padding: 20px;
      max-width: 900px;
      margin: auto;
      background: #f7f7f7;
    }
    h1 { text-align: center; color: #333; }
    h2 { border-bottom: 2px solid #ccc; padding-bottom: 4px; margin-top: 40px; }
    section { background: #fff; padding: 20px; border-radius: 10px; margin-top: 20px; box-shadow: 0 2px 6px rgba(0,0,0,0.1); }
    label { display: block; margin-top: 10px; }
    input, select, textarea { width: 100%; margin-top: 5px; margin-bottom: 15px; padding: 8px; }
    button {
      background: #0078d4; color: white; border: none;
      padding: 10px 20px; border-radius: 6px; cursor: pointer;
    }
    button:hover { background: #005fa3; }
    .result { background: #fff; padding: 20px; border-radius: 10px; margin-top: 30px; }
    table { width: 100%; border-collapse: collapse; margin-top: 10px; }
    th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
    th { background: #f0f0f0; }
  </style>
</head>
<body>
  <h1>🌐 Webシステム設計・見積支援ツール</h1>

  <section>
    <h2>1️⃣ ヒアリングシート</h2>

    <label>システム種別</label>
    <select id="systemType">
      <option value="ECサイト">ECサイト</option>
      <option value="予約システム">予約システム</option>
      <option value="社内管理ツール">社内管理ツール</option>
      <option value="ポータルサイト">ポータルサイト</option>
    </select>

    <label>主要機能（カンマ区切りで入力）</label>
    <input type="text" id="features" placeholder="例：ログイン, 商品検索, 購入, 注文履歴">

    <label>利用ユーザー規模</label>
    <select id="scale">
      <option value="small">少人数（〜100名）</option>
      <option value="medium">中規模（〜1,000名）</option>
      <option value="large">大規模（1,000名以上）</option>
    </select>

    <label>データ登録テーブル数（目安）</label>
    <input type="number" id="tableCount" min="1" max="50" value="5">

    <label>備考・特記事項</label>
    <textarea id="notes" rows="3"></textarea>

    <button onclick="generateDocuments()">設計書と見積を生成</button>
  </section>

  <section class="result" id="output"></section>

  <script>
    function generateDocuments() {
      const systemType = document.getElementById("systemType").value;
      const features = document.getElementById("features").value.split(",").map(f => f.trim()).filter(Boolean);
      const scale = document.getElementById("scale").value;
      const tableCount = parseInt(document.getElementById("tableCount").value);
      const notes = document.getElementById("notes").value;

      const baseRates = { "ECサイト": 200000, "予約システム": 250000, "社内管理ツール": 180000, "ポータルサイト": 220000 };
      const scaleRate = { small: 1.0, medium: 1.3, large: 1.6 };

      const estimate = Math.round((baseRates[systemType] + features.length * 30000 + tableCount * 15000) * scaleRate[scale]);

      const systemOverview = `
        <h3>📘 システム概要</h3>
        <p>${systemType}として構築予定。想定ユーザー規模は <strong>${scale}</strong>。主要機能は以下の通り。</p>
        <ul>${features.map(f => `<li>${f}</li>`).join("")}</ul>
      `;

      const featureTable = `
        <h3>🧩 機能一覧</h3>
        <table>
          <tr><th>No</th><th>機能名</th><th>概要</th></tr>
          ${features.map((f, i) => `<tr><td>${i + 1}</td><td>${f}</td><td>${f}に関する処理を実装予定</td></tr>`).join("")}
        </table>
      `;

      const tableDesign = `
        <h3>🗂️ テーブル設計（概略）</h3>
        <table>
          <tr><th>No</th><th>テーブル名</th><th>用途</th></tr>
          ${Array.from({length: tableCount}).map((_, i) => `<tr><td>${i+1}</td><td>table_${i+1}</td><td>業務データ管理用</td></tr>`).join("")}
        </table>
      `;

      const estimateSection = `
        <h3>💰 概算見積金額</h3>
        <p><strong>${estimate.toLocaleString()} 円（税抜）</strong></p>
      `;

      const memo = notes ? `<h3>📝 備考</h3><p>${notes}</p>` : "";

      document.getElementById("output").innerHTML = systemOverview + featureTable + tableDesign + estimateSection + memo;
    }
  </script>
</body>
</html>
