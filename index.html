<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>🌟Web設計ツール🌟</title>
<link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@400;700&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
<style>
body { font-family: 'Baloo 2', sans-serif; background:#fdf6f0; margin:0; padding:10px; color:#333; }
header { display:flex; justify-content:space-between; align-items:center; padding:10px 0; }
header h1 { font-size:2rem; color:#ff6f61; font-weight:bold; }
.price-btn { font-size:1.2rem; border:none; background:none; cursor:pointer; }
section { background:#fff; padding:15px; border-radius:15px; margin-top:10px; box-shadow:0 3px 8px rgba(0,0,0,0.1); }
h3 { margin-top:20px; color:#ff6f61; }
table { width:100%; border-collapse:collapse; font-size:0.9rem; margin-top:10px; border-radius:10px; overflow:hidden; }
th, td { border:1px solid #eee; padding:8px; }
th { background:#fde2e1; }
textarea { width:100%; padding:10px; margin-top:6px; border-radius:10px; border:1px solid #eee; font-family:'Baloo 2', sans-serif; font-size:0.9rem; }
iframe { width:100%; height:250px; border:1px solid #eee; border-radius:10px; margin-top:10px; }
button { width:100%; background:#ff6f61; color:white; border:none; padding:12px; border-radius:12px; margin-top:15px; font-size:1rem; cursor:pointer; }
button:hover { background:#e55b4f; }
.modal { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.3); justify-content:center; align-items:center; }
.modal-content { background:#fff; padding:20px; border-radius:15px; max-width:90%; max-height:90%; overflow:auto; }
.close { float:right; cursor:pointer; font-weight:bold; font-size:1.2rem; }
</style>
</head>
<body>

<header>
<h1>🌟 Web設計ツール 🌟</h1>
<button class="price-btn" onclick="showPriceModal()">💰</button>
</header>

<section id="output">
<h3>📘 システム概要</h3>
<p>
目的：おまかせ<br>
タイプ：ECサイト<br>
ターゲット：一般ユーザー<br>
技術構成：HTML, CSS, JavaScript, Python<br>
デザイン：1カラム（スマホ中心）・丸文字フォント・ブルー系アクセント<br>
サーバー：さくらサーバー<br>
外部連携：ファイルメーカー<br>
SNS連携：Instagram, LINE
</p>

<h3>🧩 機能一覧</h3>
<table>
<tr><th>No</th><th>機能</th><th>概要</th></tr>
<tr><td>1</td><td>ログイン</td><td>ログイン機能を実装</td></tr>
<tr><td>2</td><td>検索</td><td>検索機能を実装</td></tr>
<tr><td>3</td><td>登録・編集</td><td>登録・編集機能を実装</td></tr>
<tr><td>4</td><td>コメント</td><td>コメント機能を実装</td></tr>
<tr><td>5</td><td>通知</td><td>通知機能を実装</td></tr>
<tr><td>6</td><td>分析</td><td>分析機能を実装</td></tr>
</table>

<h3>🗂️ テーブル設計</h3>
<p>ログイン_tbl, 検索_tbl, 登録・編集_tbl, コメント_tbl, 通知_tbl, 分析_tbl</p>

<h3>🎞️ 画面遷移図</h3>
<div class="mermaid">
graph TD;
Home-->トップページ;
Home-->商品一覧;
Home-->商品詳細;
Home-->カート;
Home-->会員登録;
Home-->お問い合わせ;
Home-->管理画面;
</div>

<h3>💰 見積明細</h3>
<table>
<tr><th>項目</th><th>金額</th></tr>
<tr><td>基本設計</td><td class="price">150,000</td></tr>
<tr><td>機能追加 (6機能)</td><td class="price">180,000</td></tr>
<tr><td>テーブル設計 (6テーブル)</td><td class="price">60,000</td></tr>
<tr><th>合計（税抜）</th><th class="price">390,000</th></tr>
<tr><th>合計（税込10%）</th><th class="price">429,000</th></tr>
</table>
<button onclick="downloadPDF()">PDF出力</button>

<h3>📄 コード生成指示書</h3>
<textarea readonly>
AIへの指示：
スマホ向け1カラムデザインで丸文字フォント「Baloo 2」を使用。タイトルは目立つカラー、大きさで表示。
料金表はアイコンボタンで右上に表示。
内容：
- システム概要（目的:おまかせ、タイプ:ECサイト、ターゲット:一般ユーザー）
- 技術構成: HTML, CSS, JavaScript, Python
- 機能一覧: ログイン, 検索, 登録・編集, コメント, 通知, 分析
- テーブル設計: ログイン_tbl, 検索_tbl, 登録・編集_tbl, コメント_tbl, 通知_tbl, 分析_tbl
- 画面遷移図: トップページ→商品一覧→商品詳細→カート→会員登録→お問い合わせ→管理画面
- 見積明細: 基本設計, 機能追加, テーブル設計、税込合計
- コードプレビュー: HTML/CSS/JSを貼付けて表示可能
</textarea>

<h3>💻 コードプレビュー</h3>
<textarea id="codePreview" placeholder="HTML/CSS/JSをここに貼付け"></textarea>
<iframe id="iframePreview"></iframe>
<button onclick="showPreview()">プレビュー表示</button>
</section>

<div id="priceModal" class="modal">
<div class="modal-content">
<span class="close" onclick="closePriceModal()">&times;</span>
<h3>💰料金表</h3>
<table>
<tr><th>区分</th><th>項目</th><th>単価</th></tr>
<tr><td>基本設計</td><td>要件定義</td><td>150,000</td></tr>
<tr><td>機能追加</td><td>1機能</td><td>30,000</td></tr>
<tr><td>テーブル設計</td><td>1テーブル</td><td>10,000</td></tr>
<tr><td>UI/UX</td><td>ページあたり</td><td>15,000</td></tr>
<tr><td>サーバー</td><td>さくら</td><td>10,000/月</td></tr>
<tr><td>外部連携</td><td>ファイルメーカー</td><td>20,000</td></tr>
</table>
</div>
</div>

<script>
mermaid.initialize({startOnLoad:true});
function downloadPDF(){html2pdf().from(document.getElementById("output")).save("estimate.pdf");}
function showPreview(){document.getElementById("iframePreview").srcdoc=document.getElementById("codePreview").value;}
function showPriceModal(){document.getElementById("priceModal").style.display="flex";}
function closePriceModal(){document.getElementById("priceModal").style.display="none";}
</script>
</body>
</html>
